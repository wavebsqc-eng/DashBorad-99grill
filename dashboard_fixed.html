<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wave Business Solution</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
:root{--bg:#07131a;--card:#0d1e26;--t1:#26aaac;--t2:#21b68c;--b1:#2ba2c4;--mn:#9ad6ca;--red:#ff4d6a;--ora:#ff8c42;--yel:#f5c842;--pur:#8b7cff;--tx1:#e4f4f2;--tx2:#6b9fa0;--border:rgba(38,170,172,0.12);}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:var(--tx1);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(ellipse 900px 600px at 5% 0%,rgba(38,170,172,0.07),transparent 65%),
  radial-gradient(ellipse 700px 500px at 95% 85%,rgba(33,182,140,0.06),transparent 65%),
  linear-gradient(rgba(38,170,172,0.022) 1px,transparent 1px) 0 0/55px 55px,
  linear-gradient(90deg,rgba(38,170,172,0.022) 1px,transparent 1px) 0 0/55px 55px}
#loginScreen{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;background:var(--bg);isolation:isolate}
#loginScreen::before{content:'';position:absolute;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(38,170,172,0.07),transparent 70%);top:-150px;right:-100px;pointer-events:none}
.login-wrap{position:relative;z-index:1;display:flex;max-width:860px;width:95vw;border-radius:28px;overflow:hidden;box-shadow:0 0 80px rgba(38,170,172,0.14),0 40px 100px rgba(0,0,0,0.6)}
.login-brand{flex:1;background:linear-gradient(145deg,rgba(38,170,172,0.18),rgba(33,182,140,0.1));border:1px solid rgba(38,170,172,0.18);border-left:none;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px 36px;position:relative;overflow:hidden}
.login-brand::before{content:'';position:absolute;width:280px;height:280px;border-radius:50%;border:1px solid rgba(38,170,172,0.1);top:50%;left:50%;transform:translate(-50%,-50%)}
.brand-logo-big {
  width: 110px;
  height: 110px;
  background: #ffffff; /* Ø£Ùˆ ØªØ¯Ø±Ø¬ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¥Ø°Ø§ ØªØ­Ø¨ */
  border-radius: 50%; /* Ø¯Ø§Ø¦Ø±Ø© ÙƒØ§Ù…Ù„Ø© */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden; /* Ù…Ù‡Ù… Ù„Ù‚Øµ Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© */
  box-shadow: 0 2px 8px rgba(0,0,0,0.15); /* Ø§Ø®ØªÙŠØ§Ø±ÙŠ */
}

.brand-logo-big img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* ÙŠØ¬Ø¹Ù„ Ø§Ù„ØµÙˆØ±Ø© ØªØºØ·ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
}
.login-brand-name{font-size:26px;font-weight:900;color:#fff;text-align:center;position:relative;z-index:1;line-height:1.25}
.login-brand-name span{display:block;font-size:22px;background:linear-gradient(135deg,var(--t1),var(--mn));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.login-brand-sub{font-family:'Tajawal';font-size:13px;color:var(--tx2);margin-top:8px;text-align:center;position:relative;z-index:1}
.login-dots{position:absolute;bottom:28px;left:50%;transform:translateX(-50%);display:flex;gap:6px;z-index:1}
.login-dots span{width:6px;height:6px;border-radius:50%;background:var(--t1)}
.login-dots span:nth-child(1){opacity:.25}.login-dots span:nth-child(2){opacity:.55}.login-dots span:nth-child(3){opacity:1}
.login-form-panel{flex:1.1;background:rgba(13,30,38,0.97);border:1px solid rgba(38,170,172,0.14);border-right:none;padding:46px 42px;display:flex;flex-direction:column;justify-content:center}
.login-title{font-size:21px;font-weight:900;color:var(--tx1);margin-bottom:5px}
.login-sub{font-family:'Tajawal';font-size:13px;color:var(--tx2);margin-bottom:28px}
.login-tabs{display:flex;gap:0;margin-bottom:26px;background:rgba(255,255,255,0.04);border-radius:10px;padding:4px}
.login-tab{flex:1;padding:8px;border-radius:7px;border:none;background:transparent;color:var(--tx2);font-family:'Cairo';font-size:12px;font-weight:700;cursor:pointer;transition:all .2s}
.login-tab.active{background:rgba(38,170,172,0.14);color:var(--t1)}
.field{margin-bottom:15px}
.field label{display:block;font-family:'Tajawal';font-size:11px;font-weight:700;color:var(--tx2);margin-bottom:6px;letter-spacing:.5px;text-transform:uppercase}
.field-wrap{position:relative}
.field-icon{position:absolute;right:13px;top:50%;transform:translateY(-50%);font-size:15px;opacity:.4;pointer-events:none;z-index:0}
.field input{width:100%;padding:12px 40px 12px 14px;background:rgba(255,255,255,0.05);border:1px solid rgba(38,170,172,0.2);border-radius:10px;color:var(--tx1);font-family:'Cairo';font-size:14px;outline:none;transition:border-color .2s,box-shadow .2s;position:relative;z-index:1}
.field input:focus{border-color:var(--t1);box-shadow:0 0 0 3px rgba(38,170,172,0.1)}
.field input::placeholder{color:rgba(255,255,255,0.2)}
.login-msg{border-radius:9px;padding:10px 14px;font-family:'Tajawal';font-size:12px;text-align:center;margin-bottom:14px;display:none;line-height:1.6}
.login-msg.err{background:rgba(255,77,106,0.1);border:1px solid rgba(255,77,106,0.3);color:var(--red)}
.login-msg.ok{background:rgba(33,182,140,0.1);border:1px solid rgba(33,182,140,0.3);color:var(--t2)}
.login-msg.show{display:block}
.login-msg.info{background:rgba(38,170,172,0.1);border:1px solid rgba(38,170,172,0.3);color:var(--t1)}
.login-btn{width:100%;padding:13px;border:none;border-radius:12px;background:linear-gradient(135deg,var(--t1),var(--t2));color:#fff;font-family:'Cairo';font-size:15px;font-weight:800;cursor:pointer;transition:all .25s;box-shadow:0 4px 20px rgba(38,170,172,0.3)}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(38,170,172,0.4)}
.login-btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important}
.login-footer{text-align:center;font-family:'Tajawal';font-size:11px;color:var(--tx2);margin-top:18px;opacity:.6}
.link-btn{background:none;border:none;color:var(--t1);font-family:'Tajawal';font-size:12px;cursor:pointer;text-decoration:underline;margin-top:10px;display:block;text-align:center;width:100%}
.step-note{font-family:'Tajawal';font-size:12px;color:var(--tx2);margin-bottom:16px;line-height:1.8}
#loadingOverlay{position:fixed;inset:0;z-index:500;display:none;align-items:center;justify-content:center;background:rgba(7,19,26,0.85);backdrop-filter:blur(8px)}
#loadingOverlay.show{display:flex}
.loader-box{text-align:center}
.spinner{width:52px;height:52px;border:3px solid rgba(38,170,172,0.15);border-top:3px solid var(--t1);border-radius:50%;animation:spin 0.9s linear infinite;margin:0 auto 16px}
@keyframes spin{to{transform:rotate(360deg)}}
.loader-box p{font-family:'Tajawal';font-size:14px;color:var(--tx2)}
#app{display:none;position:relative;z-index:1}
.wrap{max-width:1720px;margin:0 auto;padding:20px 24px}
nav{display:flex;align-items:center;justify-content:space-between;padding:0 0 18px;border-bottom:1px solid var(--border);margin-bottom:20px;flex-wrap:wrap;gap:10px}
.brand{display:flex;align-items:center;gap:12px}
.brand-icon{width:44px;height:44px;border-radius:13px;background:linear-gradient(135deg,var(--t1),var(--t2));display:flex;align-items:center;justify-content:center;box-shadow:0 0 20px rgba(38,170,172,0.3)}
.brand-icon svg{width:26px;height:26px}
.brand h1{font-size:17px;font-weight:900;background:linear-gradient(135deg,#fff,var(--t1));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.brand h1 em{font-style:normal;font-size:14px;font-weight:600;color:var(--t2);-webkit-text-fill-color:var(--t2)}
.brand p{font-family:'Tajawal';font-size:11px;color:var(--tx2);margin-top:1px}
.nav-right{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.nbadge{font-family:'Tajawal';font-size:11px;padding:4px 10px;border-radius:6px;display:flex;align-items:center;gap:5px}
.nb-user{background:rgba(38,170,172,0.08);color:var(--t1);border:1px solid rgba(38,170,172,0.2)}
.nb-sheet.connected{background:rgba(33,182,140,0.08);color:var(--t2);border:1px solid rgba(33,182,140,0.2)}
.nb-sheet.local{background:rgba(245,200,66,0.08);color:var(--yel);border:1px solid rgba(245,200,66,0.2)}
.live{display:flex;align-items:center;gap:7px;background:rgba(33,182,140,0.08);border:1px solid rgba(33,182,140,0.25);border-radius:50px;padding:5px 12px;font-size:11px;font-weight:700;color:var(--t2)}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--t2);animation:blink 1.5s infinite}
@keyframes blink{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.3;transform:scale(1.4)}}
.icon-btn{padding:6px 12px;border-radius:8px;border:none;font-family:'Cairo';font-size:11px;font-weight:700;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:5px}
.ibtn-t{border:1px solid rgba(38,170,172,0.3);background:rgba(38,170,172,0.07);color:var(--t1)}
.ibtn-t:hover{background:rgba(38,170,172,0.14)}
.ibtn-r{border:1px solid rgba(255,77,106,0.3);background:rgba(255,77,106,0.07);color:var(--red)}
.ibtn-r:hover{background:rgba(255,77,106,0.14)}
.sync-btn.syncing .sync-ico{animation:spin .7s linear infinite;display:inline-block}
.last-sync{font-family:'Tajawal';font-size:10px;color:var(--tx2)}
.page-tabs{display:flex;gap:4px;margin-bottom:20px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:5px}
.ptab{flex:1;padding:9px 0;border-radius:8px;border:none;background:transparent;color:var(--tx2);font-family:'Cairo';font-size:13px;font-weight:700;cursor:pointer;transition:all .22s}
.ptab.active{background:rgba(38,170,172,0.12);color:var(--t1);box-shadow:0 0 15px rgba(38,170,172,0.12)}
.ptab:hover:not(.active){color:var(--tx1);background:rgba(255,255,255,0.04)}
.filter-bar{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px 20px;margin-bottom:20px;display:flex;align-items:flex-end;gap:16px;flex-wrap:wrap}
.filter-group{display:flex;flex-direction:column;gap:5px}
.filter-group label{font-family:'Tajawal';font-size:11px;color:var(--tx2);font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.filter-select{padding:8px 28px 8px 14px;background:rgba(255,255,255,0.04);border:1px solid rgba(38,170,172,0.2);border-radius:8px;color:var(--tx1);font-family:'Cairo';font-size:13px;font-weight:600;cursor:pointer;outline:none;transition:border-color .2s;min-width:160px;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%2326aaac'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:left 10px center}
.filter-select:focus{border-color:var(--t1)}
.filter-select option{background:#0d1e26;color:var(--tx1)}
.date-input{padding:8px 14px;background:rgba(255,255,255,0.04);border:1px solid rgba(38,170,172,0.2);border-radius:8px;color:var(--tx1);font-family:'Cairo';font-size:13px;outline:none;transition:border-color .2s;min-width:148px}
.date-input:focus{border-color:var(--t1)}
.date-input::-webkit-calendar-picker-indicator{filter:invert(1) opacity(.4)}
.filter-range-row{display:flex;align-items:flex-end;gap:10px;flex-wrap:wrap}
.filter-range-sep{font-family:'Tajawal';font-size:12px;color:var(--tx2);padding-bottom:10px}
.apply-btn{padding:8px 18px;border-radius:8px;border:none;background:linear-gradient(135deg,rgba(38,170,172,0.75),rgba(33,182,140,0.75));color:#fff;font-family:'Cairo';font-size:13px;font-weight:700;cursor:pointer;transition:all .2s;white-space:nowrap}
.apply-btn:hover{transform:translateY(-1px)}
.filter-info{font-family:'Tajawal';font-size:12px;color:var(--tx2)}
.page{display:none}.page.active{display:block}
.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(185px,1fr));gap:14px;margin-bottom:20px}
.kpi{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px 18px;position:relative;overflow:hidden;transition:transform .22s;animation:fadeUp .4s ease both}
.kpi:hover{transform:translateY(-3px)}
.kpi::after{content:'';position:absolute;top:-20px;right:-20px;width:90px;height:90px;border-radius:50%;filter:blur(25px);opacity:.12}
.ct::after{background:var(--t1)}.cg::after{background:var(--t2)}.cb::after{background:var(--b1)}.cm::after{background:var(--mn)}.cr::after{background:var(--red)}.cy::after{background:var(--yel)}.cp::after{background:var(--pur)}
.kpi-ico{width:36px;height:36px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:16px;margin-bottom:12px}
.ct .kpi-ico{background:rgba(38,170,172,0.12)}.cg .kpi-ico{background:rgba(33,182,140,0.12)}.cb .kpi-ico{background:rgba(43,162,196,0.12)}.cm .kpi-ico{background:rgba(154,214,202,0.12)}.cr .kpi-ico{background:rgba(255,77,106,0.12)}.cy .kpi-ico{background:rgba(245,200,66,0.12)}.cp .kpi-ico{background:rgba(139,124,255,0.12)}
.kpi-lbl{font-family:'Tajawal';font-size:11px;color:var(--tx2);margin-bottom:5px}
.kpi-val{font-size:26px;font-weight:900;line-height:1;margin-bottom:6px}
.ct .kpi-val{color:var(--t1)}.cg .kpi-val{color:var(--t2)}.cb .kpi-val{color:var(--b1)}.cm .kpi-val{color:var(--mn)}.cr .kpi-val{color:var(--red)}.cy .kpi-val{color:var(--yel)}.cp .kpi-val{color:var(--pur)}
.kpi-sub{font-family:'Tajawal';font-size:11px;color:var(--tx2)}
.row2{display:grid;grid-template-columns:1.7fr 1fr;gap:18px;margin-bottom:18px}
.row3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;margin-bottom:18px}
.ccard{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px;animation:fadeUp .5s ease both}
.ccard-mb{margin-bottom:18px}
.chd{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;flex-wrap:wrap;gap:8px}
.ctitle{font-size:13px;font-weight:700}
.badge{font-size:10px;padding:3px 9px;border-radius:20px;font-weight:700}
.bt{background:rgba(38,170,172,0.1);color:var(--t1);border:1px solid rgba(38,170,172,0.2)}
.bg_{background:rgba(33,182,140,0.1);color:var(--t2);border:1px solid rgba(33,182,140,0.2)}
.bb{background:rgba(43,162,196,0.1);color:var(--b1);border:1px solid rgba(43,162,196,0.2)}
.bm{background:rgba(154,214,202,0.1);color:var(--mn);border:1px solid rgba(154,214,202,0.2)}
.br{background:rgba(255,77,106,0.1);color:var(--red);border:1px solid rgba(255,77,106,0.2)}
.bp{background:rgba(139,124,255,0.1);color:var(--pur);border:1px solid rgba(139,124,255,0.2)}
.drow{display:flex;align-items:center;gap:16px}
.plist{flex:1;display:flex;flex-direction:column;gap:10px}
.ptop{display:flex;justify-content:space-between;font-size:11px;margin-bottom:4px;font-family:'Tajawal'}
.plbl{color:var(--tx2)}
.pbar{height:5px;background:rgba(255,255,255,0.05);border-radius:3px;overflow:hidden}
.pfill{height:100%;border-radius:3px}
.shift-header-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:0;background:var(--card);border:1px solid var(--border);border-radius:16px;margin-bottom:20px;overflow:hidden}
.shift-col{padding:18px;border-left:1px solid var(--border)}
.shift-col:last-child{border-left:none}
.shift-col-title{font-size:13px;font-weight:900;margin-bottom:5px;display:flex;align-items:center;gap:8px}
.shift-col-time{font-family:'Tajawal';font-size:11px;color:var(--tx2);margin-bottom:12px;line-height:1.7}
.lang-pills{display:flex;flex-direction:column;gap:6px}
.lang-pill-row{display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,0.03);border-radius:8px;padding:7px 10px;border:1px solid rgba(255,255,255,0.05)}
.lang-pill-name{font-family:'Tajawal';font-size:12px;font-weight:600}
.lang-pill-stats{display:flex;gap:8px}
.lang-stat{text-align:center}
.lang-stat-val{font-size:13px;font-weight:800}
.lang-stat-lbl{font-family:'Tajawal';font-size:9px;color:var(--tx2)}
.shift-filter{display:flex;gap:6px;margin-bottom:18px;align-items:center;flex-wrap:wrap}
.shift-filter span{font-family:'Tajawal';font-size:12px;color:var(--tx2)}
.stab{padding:6px 14px;border-radius:8px;border:1px solid var(--border);background:var(--card);color:var(--tx2);font-family:'Cairo';font-size:12px;font-weight:700;cursor:pointer;transition:all .2s}
.stab.sa{background:rgba(38,170,172,0.1);border-color:var(--t1);color:var(--t1)}
.stab.sar{background:rgba(43,162,196,0.1);border-color:var(--b1);color:var(--b1)}
.stab.sku{background:rgba(139,124,255,0.1);border-color:var(--pur);color:var(--pur)}
.stab.sbad{background:rgba(154,214,202,0.1);border-color:var(--mn);color:var(--mn)}
.tcard{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;margin-bottom:18px}
.thead{padding:14px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px}
.thead h3{font-size:13px;font-weight:700}
.tscroll{overflow:auto;max-height:380px}
.tscroll::-webkit-scrollbar{width:4px;height:4px}
.tscroll::-webkit-scrollbar-thumb{background:rgba(38,170,172,0.2);border-radius:4px}
table{width:100%;border-collapse:collapse;font-size:12px}
thead th{background:rgba(38,170,172,0.04);color:var(--tx2);font-weight:700;padding:10px 12px;text-align:center;font-size:10px;text-transform:uppercase;letter-spacing:.4px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:2;white-space:nowrap}
thead th.th-ar{background:rgba(43,162,196,0.06);color:var(--b1)}
thead th.th-ku{background:rgba(139,124,255,0.06);color:var(--pur)}
thead th.th-bad{background:rgba(154,214,202,0.06);color:var(--mn)}
tbody tr{border-bottom:1px solid rgba(255,255,255,0.025);transition:background .15s}
tbody tr:hover{background:rgba(38,170,172,0.04)}
tbody td{padding:9px 12px;text-align:center;font-family:'Tajawal'}
.tdate{color:var(--tx2);font-size:11px;white-space:nowrap}
.pill{display:inline-block;padding:2px 7px;border-radius:12px;font-size:10px;font-weight:700}
.pg{background:rgba(33,182,140,.1);color:var(--t2)}.po{background:rgba(255,140,66,.1);color:var(--ora)}.pr{background:rgba(255,77,106,.1);color:var(--red)}.pt{background:rgba(38,170,172,.1);color:var(--t1)}.pb{background:rgba(43,162,196,.1);color:var(--b1)}.pm{background:rgba(154,214,202,.1);color:var(--mn)}
.slbl{display:flex;align-items:center;gap:10px;margin:18px 0 14px}
.slbl h2{font-size:11px;font-weight:800;color:var(--tx2);text-transform:uppercase;letter-spacing:1px;white-space:nowrap}
.slbl::after{content:'';flex:1;height:1px;background:var(--border)}
.no-data{text-align:center;padding:40px;font-family:'Tajawal';color:var(--tx2);font-size:14px}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@media(max-width:1100px){.row2,.row3{grid-template-columns:1fr}.shift-header-grid{grid-template-columns:1fr}.login-brand{display:none}}
@media(max-width:700px){.kpi-grid{grid-template-columns:repeat(2,1fr)}.filter-bar{flex-direction:column;align-items:stretch}.login-form-panel{padding:30px 22px}}
</style>
</head>
<body>
<div id="loginScreen">
  <div class="login-wrap">
    <div class="login-brand">
        <div class="brand-logo-big">
       <img src="logo.jpg" alt="Company Logo">
     </div>
      <div class="login-brand-name">Wave Business<span>Solution</span></div>
      <div class="login-brand-sub">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…Ø±ÙƒØ² Ø§Ù„Ø§ØªØµØ§Ù„</div>
      <div class="login-dots"><span></span><span></span><span></span></div>
    </div>
    <div class="login-form-panel">
      <div class="login-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</div>
      <div class="login-sub">Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div>
      <div class="login-tabs">
        <button class="login-tab active" id="tabLogin" onclick="switchTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <button class="login-tab" id="tabReg" onclick="switchTab('reg')">Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…</button>
      </div>
      <div id="formLogin">
        <div class="login-msg" id="loginMsg"></div>
        <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label><div class="field-wrap"><span class="field-icon">ğŸ‘¤</span><input type="text" id="userInput" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="off"></div></div>
        <div class="field"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><div class="field-wrap"><span class="field-icon">ğŸ”’</span><input type="password" id="passInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"></div></div>
        <button class="login-btn" onclick="doLogin()">Ø¯Ø®ÙˆÙ„ â†’</button>
      </div>
      <div id="formReg" style="display:none">
        <div class="login-msg" id="regMsg"></div>
        <div id="regS1">
          <p class="step-note">Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± Ø±Ù…Ø² ÙŠÙØ±Ø³Ù„ Ø¥Ù„Ù‰:<br><strong style="color:var(--t1)"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d8afb9aebdbaabf6a9bb98bfb5b9b1b4f6bbb7b5">[email&#160;protected]</a></strong></p>
          <button class="login-btn" id="sendCodeBtn" onclick="sendCode()">ğŸ“§ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯</button>
        </div>
        <div id="regS2" style="display:none">
          <div class="field"><label>Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯ (6 Ø£Ø±Ù‚Ø§Ù…)</label><div class="field-wrap"><span class="field-icon">ğŸ”‘</span><input type="text" id="codeInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²" maxlength="6" autocomplete="off"></div></div>
          <button class="login-btn" onclick="verifyCode()">âœ” ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²</button>
          <button class="link-btn" onclick="sendCode()">â†» Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²</button>
        </div>
        <div id="regS3" style="display:none">
          <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯</label><div class="field-wrap"><span class="field-icon">ğŸ‘¤</span><input type="text" id="newUser" placeholder="username" autocomplete="off"></div></div>
          <div class="field"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><div class="field-wrap"><span class="field-icon">ğŸ”’</span><input type="password" id="newPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"></div></div>
          <div class="field"><label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><div class="field-wrap"><span class="field-icon">ğŸ”’</span><input type="password" id="newPassC" placeholder="ØªØ£ÙƒÙŠØ¯"></div></div>
          <button class="login-btn" onclick="createUser()">âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
        </div>
      </div>
      <div class="login-footer">Wave Business Solution Â© 2025</div>
    </div>
  </div>
</div>
<div id="loadingOverlay"><div class="loader-box"><div class="spinner"></div><p id="loadingMsg">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p></div></div>
<div id="app">
<div class="wrap">
<nav>
  <div class="brand">
    <div class="brand-icon">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 42 Q18 18 28 30 Q36 40 44 18 Q52 0 56 18" stroke="white" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
        <circle cx="56" cy="18" r="4.5" fill="white"/>
      </svg>
    </div>
    <div><h1>Wave Business <em>Solution</em></h1><p id="dataRangeLabel">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p></div>
  </div>
  <div class="nav-right">
    <div class="nbadge nb-user">ğŸ‘¤ <span id="currentUserLabel">â€”</span></div>
    <div class="nbadge nb-sheet local" id="sheetStatus"><span>ğŸŸ¡</span><span>Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©</span></div>
    <div class="live"><div class="live-dot"></div>Ù…Ø¨Ø§Ø´Ø±</div>
    <button class="icon-btn ibtn-t sync-btn" id="syncBtn" onclick="syncData()"><span class="sync-ico">â†»</span> ØªØ­Ø¯ÙŠØ«</button>
    <span class="last-sync" id="lastSync"></span>
    <button class="icon-btn ibtn-r" onclick="doLogout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
  </div>
</nav>
<div class="page-tabs">
  <button class="ptab active" onclick="showPage('calls',this)">ğŸ“Š Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</button>
  <button class="ptab" onclick="showPage('shifts',this)">â° Ø§Ù„ÙØªØ±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª</button>
</div>
<div class="filter-bar">
  <div class="filter-group"><label>Ù†ÙˆØ¹ Ø§Ù„ÙÙ„ØªØ±Ø©</label>
    <select class="filter-select" id="filterType" onchange="onFilterTypeChange()">
      <option value="all">ğŸ“‹ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</option>
      <option value="month">ğŸ“… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ù‡Ø±</option>
      <option value="range">ğŸ“† Ù…Ù† ØªØ§Ø±ÙŠØ® Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</option>
    </select>
  </div>
  <div class="filter-group" id="monthGroup" style="display:none"><label>Ø§Ù„Ø´Ù‡Ø±</label>
    <select class="filter-select" id="monthSelect" onchange="applyFilter()"><option value="">-- Ø§Ø®ØªØ± --</option></select>
  </div>
  <div id="rangeGroup" style="display:none">
    <div class="filter-range-row">
      <div class="filter-group"><label>Ù…Ù†</label><input type="date" class="date-input" id="dateFrom"></div>
      <span class="filter-range-sep">â†</span>
      <div class="filter-group"><label>Ø¥Ù„Ù‰</label><input type="date" class="date-input" id="dateTo"></div>
      <button class="apply-btn" onclick="applyFilter()">âœ” ØªØ·Ø¨ÙŠÙ‚</button>
    </div>
  </div>
  <div style="flex:1"></div>
  <div class="filter-group"><label>&nbsp;</label><div class="filter-info" id="filterInfo">â€”</div></div>
</div>
<div id="page-calls" class="page active">
  <div class="kpi-grid" id="kpiGrid"></div>
  <div class="row2">
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸ“ˆ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</span><span class="badge bt" id="callsLbl">â€”</span></div><div style="position:relative;height:210px"><canvas id="callsChart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸ¯ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª</span><span class="badge bg_">Ø§Ù„Ù†Ø³Ø¨</span></div><div class="drow"><div style="width:180px;height:180px;flex-shrink:0;position:relative"><canvas id="donutChart"></canvas></div><div class="plist" id="donutLgd"></div></div></div>
  </div>
  <div class="row3">
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸ›’ Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹</span><span class="badge bp">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span></div><div style="position:relative;height:170px"><canvas id="ordersChart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">âŒ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„Ø¶Ø§Ø¦Ø¹Ø©</span><span class="badge br">Ø§Ù„Ø¶Ø§Ø¦Ø¹</span></div><div style="position:relative;height:170px"><canvas id="lostChart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸ‘¥ Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹</span><span class="badge bm">Ø§Ù„ÙØ±ÙŠÙ‚</span></div><div style="position:relative;height:170px"><canvas id="agentsChart"></canvas></div></div>
  </div>
  <div class="slbl"><h2>Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</h2></div>
  <div class="tcard"><div class="thead"><h3>ğŸ“‹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3><span class="badge bt" id="tblLbl">â€”</span></div>
  <div class="tscroll"><table><thead><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>Ù…Ø±Ø¯ÙˆØ¯</th><th>Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¯</th><th>Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª</th><th>Ø§Ù„ØªØ­ÙˆÙŠÙ„</th><th>Ù…Ø­Ø§ÙˆÙ„Ø© 2</th><th>Ø¶Ø§Ø¦Ø¹Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ©</th><th>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø§Ø¦Ø¹</th><th>Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†</th></tr></thead><tbody id="callsTbody"></tbody></table></div></div>
</div>
<div id="page-shifts" class="page">
  <div class="shift-header-grid" id="shiftHeaderGrid"></div>
  <div class="kpi-grid" id="shiftKpi"></div>
  <div class="shift-filter">
    <span>Ø¹Ø±Ø¶ Ø§Ù„Ù„ØºØ©:</span>
    <button class="stab sa" onclick="filterLang('all',this)">ğŸŒ Ø§Ù„ÙƒÙ„</button>
    <button class="stab" onclick="filterLang('ar',this)">ğŸ‡®ğŸ‡¶ Ø¹Ø±Ø¨ÙŠ</button>
    <button class="stab" onclick="filterLang('ku',this)">ğŸŒ¿ Ø³ÙˆØ±Ø§Ù†ÙŠ</button>
    <button class="stab" onclick="filterLang('bad',this)">ğŸ”ï¸ Ø¨Ø§Ø¯ÙŠÙŠÙ†ÙŠ</button>
  </div>
  <div class="row2">
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸ“Š Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© â€” Ø§Ù„ÙØªØ±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª</span><span class="badge bt" id="shiftChartLbl">Ø§Ù„ÙƒÙ„</span></div><div style="position:relative;height:220px"><canvas id="shiftStackedChart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">âŒ Ø§Ù„Ø¶Ø§Ø¦Ø¹ â€” Ø§Ù„ÙØªØ±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª</span><span class="badge br">Ø§Ù„Ø¶Ø§Ø¦Ø¹</span></div><div style="position:relative;height:220px"><canvas id="shiftLostBar"></canvas></div></div>
  </div>
  <div class="row3">
    <div class="ccard"><div class="chd"><span class="ctitle">â˜€ï¸ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</span><span class="badge bt">10Øµâ†’5Ù…</span></div><div style="position:relative;height:200px"><canvas id="shift1Chart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸŒ† Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</span><span class="badge bp">5Ù…â†’12Øµ</span></div><div style="position:relative;height:200px"><canvas id="shift2Chart"></canvas></div></div>
    <div class="ccard"><div class="chd"><span class="ctitle">ğŸŒ™ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</span><span class="badge bm">12Øµâ†’3Øµ</span></div><div style="position:relative;height:200px"><canvas id="shift3Chart"></canvas></div></div>
  </div>
  <div class="ccard ccard-mb"><div class="chd"><span class="ctitle">ğŸ“‰ Ø§Ù„Ø¶ÙŠØ§Ø¹ Ø§Ù„ÙŠÙˆÙ…ÙŠ â€” Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØªØ±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª</span><span class="badge br">ÙŠÙˆÙ…ÙŠ</span></div><div style="position:relative;height:190px"><canvas id="lostLineChart"></canvas></div></div>
  <div class="slbl"><h2>Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØªØ±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª</h2></div>
  <div class="tcard"><div class="thead"><h3>â° ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª: Ø§Ù„ÙØªØ±Ø§Øª Ã— Ø§Ù„Ù„ØºØ§Øª</h3><span class="badge bt" id="shiftTblLbl">â€”</span></div>
  <div class="tscroll"><table style="min-width:1100px">
    <thead>
      <tr><th rowspan="2">Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th colspan="6" class="th-ar">ğŸ‡®ğŸ‡¶ Ø¹Ø±Ø¨ÙŠ</th><th colspan="6" class="th-ku">ğŸŒ¿ Ø³ÙˆØ±Ø§Ù†ÙŠ</th><th colspan="6" class="th-bad">ğŸ”ï¸ Ø¨Ø§Ø¯ÙŠÙŠÙ†ÙŠ</th></tr>
      <tr><th class="th-ar">Ù1</th><th class="th-ar">Ø¶</th><th class="th-ar">Ù2</th><th class="th-ar">Ø¶</th><th class="th-ar">Ù3</th><th class="th-ar">Ø¶</th>
          <th class="th-ku">Ù1</th><th class="th-ku">Ø¶</th><th class="th-ku">Ù2</th><th class="th-ku">Ø¶</th><th class="th-ku">Ù3</th><th class="th-ku">Ø¶</th>
          <th class="th-bad">Ù1</th><th class="th-bad">Ø¶</th><th class="th-bad">Ù2</th><th class="th-bad">Ø¶</th><th class="th-bad">Ù3</th><th class="th-bad">Ø¶</th></tr>
    </thead><tbody id="shiftTbody"></tbody>
  </table></div></div>
</div>
</div></div>
<script>

const SHEET_ID='1FJoBI2AGG8x3P4CmyKW0tROp3ODR7Rt8Wb5wMtgh6xo',SHEET1='data',SHEET2='ExtraData',AUTO_REFRESH_MS=300000;
const UK='wbs_users';
function getUsers(){try{return JSON.parse(localStorage.getItem(UK))||[];}catch(e){return[];}}
function saveUsers(u){localStorage.setItem(UK,JSON.stringify(u));}
function initUsers(){if(!getUsers().length)saveUsers([{u:'QC',p:'123',role:'admin'}]);}
let currentUser=null,pendingCode=null,codeExpiry=null;

function switchTab(t){
  document.getElementById('formLogin').style.display=t==='login'?'block':'none';
  document.getElementById('formReg').style.display=t==='reg'?'block':'none';
  document.getElementById('tabLogin').classList.toggle('active',t==='login');
  document.getElementById('tabReg').classList.toggle('active',t==='reg');
  clearMsgs();
}
function showMsg(id,text,type='err'){const e=document.getElementById(id);e.textContent=text;e.className='login-msg '+type+' show';}
function clearMsgs(){['loginMsg','regMsg'].forEach(id=>{const e=document.getElementById(id);e.className='login-msg';e.textContent='';});}

function doLogin(){
  const u=document.getElementById('userInput').value.trim(),p=document.getElementById('passInput').value.trim();
  initUsers();
  const found=getUsers().find(x=>x.u===u&&x.p===p);
  if(found){currentUser=found.u;document.getElementById('loginScreen').style.display='none';document.getElementById('currentUserLabel').textContent=currentUser;startApp();}
  else showMsg('loginMsg','âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
}
function doLogout(){
  document.getElementById('app').style.display='none';document.getElementById('loginScreen').style.display='flex';
  document.getElementById('userInput').value='';document.getElementById('passInput').value='';
  switchTab('login');if(autoRefreshTimer)clearInterval(autoRefreshTimer);
}

async function sendCode(){
  clearMsgs();
  const btn=document.getElementById('sendCodeBtn');btn.disabled=true;btn.textContent='â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
  pendingCode=String(Math.floor(100000+Math.random()*900000));codeExpiry=Date.now()+600000;
  try{
    const res=await fetch('https://api.emailjs.com/api/v1.0/email/send',{method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({service_id:'service_vfei8zl',template_id:'template_hf6nqxj',user_id:'r1-kpv-RnG8LF09nP',
        template_params:{to_email:'wavebs.qc@gmail.com',code:pendingCode,expiry:'10 Ø¯Ù‚Ø§Ø¦Ù‚'}})});
    if(res.ok){showStep('regS2');showMsg('regMsg','ğŸ“§ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„','ok');}
    else throw new Error();
  }catch(e){
    alert('âš ï¸ EmailJS ØºÙŠØ± Ù…ÙØ¹Ø¯Ù‘ Ø¨Ø¹Ø¯.\n\nØ±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¢Ù†:\n\nğŸ”‘ '+pendingCode+'\n\n(Ø³ÙŠÙØ±Ø³Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯)');
    showStep('regS2');showMsg('regMsg','Ø§Ù„Ø±Ù…Ø² Ø¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© (ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±)','info');
  }
  btn.disabled=false;btn.textContent='ğŸ“§ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ£ÙƒÙŠØ¯';
}
function verifyCode(){
  clearMsgs();const entered=document.getElementById('codeInput').value.trim();
  if(!pendingCode){showMsg('regMsg','âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù…Ø². Ø£Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');return;}
  if(Date.now()>codeExpiry){showMsg('regMsg','âŒ Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±Ù…Ø².');return;}
  if(entered!==pendingCode){showMsg('regMsg','âŒ Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­.');return;}
  pendingCode=null;showStep('regS3');showMsg('regMsg','âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚! Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯.','ok');
}
function createUser(){
  clearMsgs();const u=document.getElementById('newUser').value.trim(),p=document.getElementById('newPass').value,p2=document.getElementById('newPassC').value;
  if(!u||!p){showMsg('regMsg','âŒ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.');return;}
  if(p!==p2){showMsg('regMsg','âŒ ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†.');return;}
  const users=getUsers();if(users.find(x=>x.u===u)){showMsg('regMsg','âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹.');return;}
  users.push({u,p,role:'user'});saveUsers(users);
  showMsg('regMsg','âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… "'+u+'" Ø¨Ù†Ø¬Ø§Ø­!','ok');
  ['newUser','newPass','newPassC'].forEach(id=>document.getElementById(id).value='');
  setTimeout(()=>{showStep('regS1');clearMsgs();},3000);
}
function showStep(id){['regS1','regS2','regS3'].forEach(s=>document.getElementById(s).style.display='none');document.getElementById(id).style.display='block';}

let allCallsData=[],allExtraData=[],filteredCalls=[],filteredExtra=[],activeLang='all',activePage='calls',autoRefreshTimer=null,isConnected=false;
function startApp(){document.getElementById('app').style.display='block';}
window.addEventListener('load',()=>{initUsers();useLocalData();loadFromSheet(SHEET_ID,SHEET1,SHEET2).then(()=>{setStatus('connected','ğŸŸ¢','Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø´ÙŠØª');startAutoRefresh();}).catch(()=>{});});

function csvUrl(sid,sn){return'https://docs.google.com/spreadsheets/d/'+sid+'/gviz/tq?tqx=out:csv&sheet='+encodeURIComponent(sn);}
function parseCSVLine(line){const r=[];let c='',inQ=false;for(let i=0;i<line.length;i++){const ch=line[i];if(ch==='"'){if(inQ&&line[i+1]==='"'){c+='"';i++;}else inQ=!inQ;}else if(ch===','&&!inQ){r.push(c);c='';}else c+=ch;}r.push(c);return r.map(s=>s.replace(/^"|"$/g,'').trim());}

async function loadFromSheet(sid,s1,s2){
  const[c1,c2]=await Promise.all([
    fetch(csvUrl(sid,s1),{cache:'no-store'}).then(r=>{if(!r.ok)throw new Error();return r.text();}),
    fetch(csvUrl(sid,s2),{cache:'no-store'}).then(r=>{if(!r.ok)throw new Error();return r.text();})
  ]);
  allCallsData=parseMainSheet(c1);allExtraData=parseExtraSheet(c2);isConnected=true;buildMonthSelector();applyFilter();updateLastSync();
}
function parseMainSheet(csv){
  const lines=csv.trim().split('\n').filter(Boolean);if(lines.length<2)return[];
  const h=parseCSVLine(lines[0]);let ci={tot:-1,ans:-1,ord:-1,sec1:-1,sec2:-1,lost:-1,ag:-1};
  h.forEach((v,i)=>{
    if(ci.tot<0&&/Ø§Ø¬Ù…Ø§Ù„ÙŠ|Ø¥Ø¬Ù…Ø§Ù„ÙŠ|total/i.test(v))ci.tot=i;if(ci.ans<0&&/Ù…Ø±Ø¯ÙˆØ¯|Ù…Ø¬Ø§Ø¨|answered|Ø±Ø¯/i.test(v))ci.ans=i;
    if(ci.ord<0&&/Ø§ÙˆØ±Ø¯Ø±|Ø£ÙˆØ±Ø¯Ø±|order|Ø·Ù„Ø¨/i.test(v))ci.ord=i;if(ci.sec1<0&&/Ù…Ø­Ø§ÙˆÙ„Ø©.?Ø§ÙˆÙ„|first|Ø£ÙˆÙ„Ù‰/i.test(v))ci.sec1=i;
    if(ci.sec2<0&&/Ù…Ø­Ø§ÙˆÙ„Ø©.?Ø«Ø§Ù†|second|Ø«Ø§Ù†ÙŠØ©/i.test(v))ci.sec2=i;if(ci.lost<0&&/Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø¶Ø§Ø¦Ø¹Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ©/i.test(v))ci.lost=i;
    if(ci.ag<0&&/Ù…ÙˆØ¸Ù|agent|employee/i.test(v))ci.ag=i;
  });
  if(ci.tot<0)ci.tot=1;if(ci.ans<0)ci.ans=2;if(ci.ord<0)ci.ord=4;if(ci.sec1<0)ci.sec1=6;if(ci.sec2<0)ci.sec2=8;if(ci.lost<0)ci.lost=10;if(ci.ag<0)ci.ag=13;
  const res=[];
  for(let i=1;i<lines.length;i++){const cols=parseCSVLine(lines[i]),dt=parseDate(cols[0]);if(!dt)continue;
    const n=idx=>(idx>=0&&idx<cols.length)?parseNum(cols[idx]):0;
    const row={d:formatDate(dt),dt,tot:n(ci.tot),ans:n(ci.ans),ord:n(ci.ord),sec1:n(ci.sec1),sec2:n(ci.sec2),lost:n(ci.lost),ag:n(ci.ag)};
    if(row.tot>0||row.ans>0)res.push(row);}
  return res.sort((a,b)=>a.dt-b.dt);
}
function parseExtraSheet(csv){
  const lines=csv.trim().split('\n').filter(Boolean);if(lines.length<2)return[];
  const res=[];
  for(let i=1;i<lines.length;i++){const cols=parseCSVLine(lines[i]),dt=parseDate(cols[0]);if(!dt)continue;
    const nums=cols.slice(1).map(v=>parseNum(v));if(nums.length<18)continue;
    res.push({d:formatDate(dt),dt,v:nums.slice(0,18).map(n=>n||0)});}
  return res.sort((a,b)=>a.dt-b.dt);
}
function parseDate(s){if(!s||s.trim()===''||/^[^0-9\/\-]/.test(s.trim()))return null;s=s.trim().replace(/"/g,'');
  let d=new Date(s);if(!isNaN(d)&&d.getFullYear()>2000)return d;
  const m1=s.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(m1)return new Date(+m1[3],+m1[2]-1,+m1[1]);
  const m2=s.match(/^(\d{4})-(\d{2})-(\d{2})/);if(m2)return new Date(+m2[1],+m2[2]-1,+m2[3]);return null;}
function formatDate(dt){return String(dt.getDate()).padStart(2,'0')+'/'+String(dt.getMonth()+1).padStart(2,'0');}
function parseNum(s){if(!s||s.trim()===''||s.startsWith('='))return 0;const n=parseFloat(String(s).replace(/,/g,'').replace(/%/g,''));return isNaN(n)?0:n;}

function buildMonthSelector(){
  const months=new Map();allCallsData.forEach(r=>{const k=r.dt.getFullYear()+'-'+String(r.dt.getMonth()+1).padStart(2,'0');if(!months.has(k))months.set(k,r.dt.toLocaleDateString('ar-EG',{month:'long',year:'numeric'}));});
  const sel=document.getElementById('monthSelect');
  const prevVal=sel.value;
  sel.innerHTML='<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø´Ù‡Ø± --</option>';
  [...months.entries()].sort().forEach(([k,v])=>sel.innerHTML+='<option value="'+k+'">'+v+'</option>');
  if(prevVal)sel.value=prevVal;
}
function onFilterTypeChange(){
  const t=document.getElementById('filterType').value;
  document.getElementById('monthGroup').style.display=t==='month'?'flex':'none';
  document.getElementById('rangeGroup').style.display=t==='range'?'block':'none';
  if(t!=='range')applyFilter();
}
function applyFilter(){
  const t=document.getElementById('filterType').value;let cF=[...allCallsData],eF=[...allExtraData];
  if(t==='month'){const v=document.getElementById('monthSelect').value;if(v){const[y,m]=v.split('-').map(Number);cF=cF.filter(r=>r.dt.getFullYear()===y&&r.dt.getMonth()+1===m);eF=eF.filter(r=>r.dt.getFullYear()===y&&r.dt.getMonth()+1===m);}}
  else if(t==='range'){const from=document.getElementById('dateFrom').value,to=document.getElementById('dateTo').value;
    if(from){const d=new Date(from);cF=cF.filter(r=>r.dt>=d);eF=eF.filter(r=>r.dt>=d);}
    if(to){const d=new Date(to);d.setHours(23,59,59);cF=cF.filter(r=>r.dt<=d);eF=eF.filter(r=>r.dt<=d);}}
  filteredCalls=cF;filteredExtra=eF;
  const info=cF.length?(cF.length+' ÙŠÙˆÙ… | '+cF[0].d+' â†’ '+cF[cF.length-1].d):'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª';
  ['filterInfo','tblLbl','shiftTblLbl'].forEach(id=>document.getElementById(id).textContent=info);
  document.getElementById('callsLbl').textContent=info.split('|')[1]?.trim()||'â€”';
  document.getElementById('dataRangeLabel').textContent=allCallsData.length?('Ù…Ù† '+allCallsData[0].d+' Ø¥Ù„Ù‰ '+allCallsData[allCallsData.length-1].d+' | '+allCallsData.length+' ÙŠÙˆÙ…'):'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
  renderCurrentPage();
}

async function syncData(){if(!isConnected){alert('Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©.');return;}
  const btn=document.getElementById('syncBtn');btn.classList.add('syncing');btn.disabled=true;
  try{await loadFromSheet(SHEET_ID,SHEET1,SHEET2);}catch(e){alert('ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«.');}
  btn.classList.remove('syncing');btn.disabled=false;}
function updateLastSync(){document.getElementById('lastSync').textContent='Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: '+new Date().toLocaleTimeString('ar-EG');}
function startAutoRefresh(){if(autoRefreshTimer)clearInterval(autoRefreshTimer);autoRefreshTimer=setInterval(()=>{if(isConnected)loadFromSheet(SHEET_ID,SHEET1,SHEET2).catch(console.warn);},AUTO_REFRESH_MS);}
function setStatus(type,icon,label){const el=document.getElementById('sheetStatus');el.innerHTML='<span>'+icon+'</span><span>'+label+'</span>';el.className='nbadge nb-sheet '+type;}
function useLocalData(){isConnected=false;allCallsData=LOCAL_CALLS;allExtraData=LOCAL_EXTRA;buildMonthSelector();applyFilter();setStatus('local','ğŸŸ¡','Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©');}

let CH={};
const C={t:'#26aaac',g:'#21b68c',b:'#2ba2c4',m:'#9ad6ca',r:'#ff4d6a',o:'#ff8c42',y:'#f5c842',p:'#8b7cff'};
const cfg0={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{rtl:true,titleFont:{family:'Cairo'},bodyFont:{family:'Tajawal'}}}};
function sc(h,a){const r=parseInt(h.slice(1,3),16),g=parseInt(h.slice(3,5),16),b=parseInt(h.slice(5,7),16);return'rgba('+r+','+g+','+b+','+a+')';}
function mk(id,type,data,opts){if(CH[id])CH[id].destroy();const el=document.getElementById(id);if(!el)return;CH[id]=new Chart(el.getContext('2d'),{type,data,options:Object.assign({},cfg0,opts)});}
const scl=()=>({x:{ticks:{color:'#6b9fa0',font:{family:'Tajawal',size:9},maxRotation:45},grid:{color:'rgba(255,255,255,0.03)'}},y:{ticks:{color:'#6b9fa0',font:{family:'Tajawal',size:10}},grid:{color:'rgba(255,255,255,0.03)'}}});
const lgd=()=>({display:true,labels:{color:'#6b9fa0',font:{family:'Cairo',size:10},boxWidth:10,padding:10}});
function noData(id){if(CH[id])CH[id].destroy();}
function pct(v,t){return t?(v/t*100).toFixed(1):0;}
function renderCurrentPage(){if(activePage==='calls')renderCalls();else renderShifts(activeLang);}

function renderCalls(){
  const D=filteredCalls;
  if(!D.length){document.getElementById('kpiGrid').innerHTML='<div class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</div>';document.getElementById('callsTbody').innerHTML='<tr><td colspan="10" class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>';['callsChart','donutChart','ordersChart','lostChart','agentsChart'].forEach(noData);return;}
  const L=D.map(r=>r.d);
  const tot=D.reduce((s,r)=>s+r.tot,0),ans=D.reduce((s,r)=>s+r.ans,0),ord=D.reduce((s,r)=>s+r.ord,0);
  const sec2=D.reduce((s,r)=>s+r.sec2,0),lost=D.reduce((s,r)=>s+r.lost,0);
  const agDays=D.filter(r=>r.ag>0),avgAg=agDays.length?+(agDays.reduce((s,r)=>s+r.ag,0)/agDays.length).toFixed(1):0;

  document.getElementById('kpiGrid').innerHTML=
    '<div class="kpi ct"><div class="kpi-ico">ğŸ“</div><div class="kpi-lbl">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª</div><div class="kpi-val">'+tot.toLocaleString()+'</div><div class="kpi-sub">'+D.length+' ÙŠÙˆÙ…</div></div>'+
    '<div class="kpi cg"><div class="kpi-ico">âœ…</div><div class="kpi-lbl">ØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙ‡Ø§</div><div class="kpi-val">'+ans.toLocaleString()+'</div><div class="kpi-sub">Ù†Ø³Ø¨Ø© '+pct(ans,tot)+'%</div></div>'+
    '<div class="kpi cb"><div class="kpi-ico">ğŸ›’</div><div class="kpi-lbl">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª</div><div class="kpi-val">'+ord.toLocaleString()+'</div><div class="kpi-sub">ØªØ­ÙˆÙŠÙ„ '+pct(ord,ans)+'%</div></div>'+
    '<div class="kpi cp"><div class="kpi-ico">ğŸ”</div><div class="kpi-lbl">Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø«Ø§Ù†ÙŠØ©</div><div class="kpi-val">'+sec2.toLocaleString()+'</div><div class="kpi-sub">'+pct(sec2,tot)+'% Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div></div>'+
    '<div class="kpi cr"><div class="kpi-ico">âŒ</div><div class="kpi-lbl">Ø¶Ø§Ø¦Ø¹Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ©</div><div class="kpi-val">'+lost.toLocaleString()+'</div><div class="kpi-sub">Ù†Ø³Ø¨Ø© '+pct(lost,tot)+'%</div></div>'+
    '<div class="kpi cy"><div class="kpi-ico">ğŸ‘¥</div><div class="kpi-lbl">Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</div><div class="kpi-val">'+avgAg+'</div><div class="kpi-sub">Ù…ÙˆØ¸Ù / ÙŠÙˆÙ…</div></div>';

  mk('callsChart','line',{labels:L,datasets:[
    {label:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ',data:D.map(r=>r.tot),borderColor:C.t,backgroundColor:sc(C.t,.08),fill:true,tension:.4,pointRadius:L.length>60?0:2,borderWidth:2},
    {label:'Ù…Ø±Ø¯ÙˆØ¯',data:D.map(r=>r.ans),borderColor:C.g,backgroundColor:sc(C.g,.06),fill:true,tension:.4,pointRadius:0,borderWidth:1.5,borderDash:[4,3]}
  ]},{scales:scl(),plugins:Object.assign({},cfg0.plugins,{legend:lgd()})});

  // DONUT: 4 Ø£Ù‚Ø³Ø§Ù…
  const sec1=D.reduce((s,r)=>s+r.sec1,0);
  const faqid=Math.max(0,tot-sec1-sec2-lost);
  mk('donutChart','doughnut',{
    labels:['Ù…Ø­Ø§ÙˆÙ„Ø© Ø£ÙˆÙ„Ù‰','Ù…Ø­Ø§ÙˆÙ„Ø© Ø«Ø§Ù†ÙŠØ©','Ø¶ÙŠØ§Ø¹ Ø­Ù‚ÙŠÙ‚ÙŠ','ÙØ§Ù‚Ø¯'],
    datasets:[{data:[sec1,sec2,lost,faqid],backgroundColor:[C.g,C.b,C.r,sc(C.p,0.75)],borderWidth:0,hoverOffset:8}]
  },{cutout:'68%',responsive:true,maintainAspectRatio:false});
  document.getElementById('donutLgd').innerHTML=[
    {l:'Ù…Ø­Ø§ÙˆÙ„Ø© Ø£ÙˆÙ„Ù‰',  v:sec1,  c:C.g},
    {l:'Ù…Ø­Ø§ÙˆÙ„Ø© Ø«Ø§Ù†ÙŠØ©', v:sec2,  c:C.b},
    {l:'Ø¶ÙŠØ§Ø¹ Ø­Ù‚ÙŠÙ‚ÙŠ',   v:lost,  c:C.r},
    {l:'ÙØ§Ù‚Ø¯',         v:faqid, c:sc(C.p,0.75)}
  ].map(i=>'<div><div class="ptop"><span class="plbl">'+i.l+'</span><span style="color:'+i.c+';font-weight:700">'+pct(i.v,tot)+'%</span></div><div class="pbar"><div class="pfill" style="width:'+pct(i.v,tot)+'%;background:'+i.c+'"></div></div></div>').join('');

  mk('ordersChart','bar',{labels:L,datasets:[{data:D.map(r=>r.ord),backgroundColor:sc(C.p,.7),borderColor:C.p,borderWidth:1,borderRadius:3}]},{scales:scl()});
  mk('lostChart','bar',{labels:L,datasets:[{data:D.map(r=>r.lost),backgroundColor:sc(C.r,.7),borderColor:C.r,borderWidth:1,borderRadius:3}]},{scales:scl()});
  mk('agentsChart','line',{labels:L,datasets:[{data:D.map(r=>r.ag),borderColor:C.m,backgroundColor:sc(C.m,.08),fill:true,tension:.3,stepped:'middle',pointRadius:0,borderWidth:2}]},{scales:scl()});

  document.getElementById('callsTbody').innerHTML=D.map(r=>{
    const ar=pct(r.ans,r.tot),cr=pct(r.ord,r.ans),lr=pct(r.lost,r.tot);
    const pc=parseFloat(lr)<5?'pg':parseFloat(lr)<10?'po':'pr',ac=parseFloat(ar)>90?'pg':parseFloat(ar)>80?'pt':'po';
    return '<tr><td class="tdate">'+r.d+'</td><td><strong>'+r.tot.toLocaleString()+'</strong></td><td>'+r.ans.toLocaleString()+'</td><td><span class="pill '+ac+'">'+ar+'%</span></td><td>'+r.ord.toLocaleString()+'</td><td><span class="pill pt">'+cr+'%</span></td><td>'+r.sec2+'</td><td>'+r.lost+'</td><td><span class="pill '+pc+'">'+lr+'%</span></td><td>'+r.ag+'</td></tr>';
  }).join('');
}

const LANGS=[{key:'ar',name:'Ø¹Ø±Ø¨ÙŠ',icon:'ğŸ‡®ğŸ‡¶',color:C.b,fi:[0,2,4],li:[1,3,5]},{key:'ku',name:'Ø³ÙˆØ±Ø§Ù†ÙŠ',icon:'ğŸŒ¿',color:C.p,fi:[6,8,10],li:[7,9,11]},{key:'bad',name:'Ø¨Ø§Ø¯ÙŠÙŠÙ†ÙŠ',icon:'ğŸ”ï¸',color:C.m,fi:[12,14,16],li:[13,15,17]}];

function renderShifts(lang){
  const E=filteredExtra;
  if(!E.length){document.getElementById('shiftKpi').innerHTML='<div class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</div>';document.getElementById('shiftHeaderGrid').innerHTML='';['shiftStackedChart','shiftLostBar','shift1Chart','shift2Chart','shift3Chart','lostLineChart'].forEach(noData);document.getElementById('shiftTbody').innerHTML='<tr><td colspan="19" class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>';return;}
  const L=E.map(r=>r.d),s=i=>E.reduce((a,r)=>a+r.v[i],0);
  const shifts=[
    {name:'Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰',icon:'â˜€ï¸',color:C.t,time:'Ø§Ù„Ø³Ø¨Øªâ€“Ø§Ù„Ø®Ù…ÙŠØ³: 10Øµâ†’5Ù…<br>Ø§Ù„Ø¬Ù…Ø¹Ø©: 3Ù…â†’6Ù…',fi:[0,6,12],li:[1,7,13]},
    {name:'Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©',icon:'ğŸŒ†',color:C.b,time:'Ø§Ù„Ø³Ø¨Øªâ€“Ø§Ù„Ø®Ù…ÙŠØ³: 5Ù…â†’12Øµ<br>Ø§Ù„Ø¬Ù…Ø¹Ø©: 6Ù…â†’12Øµ',fi:[2,8,14],li:[3,9,15]},
    {name:'Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©',icon:'ğŸŒ™',color:C.m,time:'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙŠØ§Ù…: 12Øµâ†’3Øµ',fi:[4,10,16],li:[5,11,17]}
  ];
  document.getElementById('shiftHeaderGrid').innerHTML=shifts.map(sh=>'<div class="shift-col"><div class="shift-col-title" style="color:'+sh.color+'">'+sh.icon+' '+sh.name+'</div><div class="shift-col-time">'+sh.time+'</div><div class="lang-pills">'+LANGS.map((l,li)=>{const calls=s(sh.fi[li]),lst=s(sh.li[li]),rate=calls>0?(lst/calls*100).toFixed(1):0;return'<div class="lang-pill-row"><span class="lang-pill-name" style="color:'+l.color+'">'+l.icon+' '+l.name+'</span><div class="lang-pill-stats"><div class="lang-stat"><div class="lang-stat-val" style="color:'+l.color+'">'+calls+'</div><div class="lang-stat-lbl">Ù…ÙƒØ§Ù„Ù…Ø§Øª</div></div><div class="lang-stat"><div class="lang-stat-val" style="color:'+C.r+'">'+lst+'</div><div class="lang-stat-lbl">Ø¶Ø§Ø¦Ø¹</div></div><div class="lang-stat"><div class="lang-stat-val" style="color:'+C.y+'">'+rate+'%</div><div class="lang-stat-lbl">Ù†Ø³Ø¨Ø©</div></div></div></div>';}).join('')+'</div></div>').join('');
  const arT=s(0)+s(2)+s(4),kuT=s(6)+s(8)+s(10),bT=s(12)+s(14)+s(16);
  const arL=s(1)+s(3)+s(5),kuL=s(7)+s(9)+s(11),bL=s(13)+s(15)+s(17);
  const f1T=s(0)+s(6)+s(12),f2T=s(2)+s(8)+s(14),f3T=s(4)+s(10)+s(16),totL=arL+kuL+bL,totC=arT+kuT+bT;
  document.getElementById('shiftKpi').innerHTML=
    '<div class="kpi cb"><div class="kpi-ico">ğŸ‡®ğŸ‡¶</div><div class="kpi-lbl">Ø¹Ø±Ø¨ÙŠ</div><div class="kpi-val">'+arT.toLocaleString()+'</div><div class="kpi-sub">Ø¶Ø§Ø¦Ø¹ '+arL+' ('+pct(arL,arT)+'%)</div></div>'+
    '<div class="kpi cp"><div class="kpi-ico">ğŸŒ¿</div><div class="kpi-lbl">Ø³ÙˆØ±Ø§Ù†ÙŠ</div><div class="kpi-val">'+kuT.toLocaleString()+'</div><div class="kpi-sub">Ø¶Ø§Ø¦Ø¹ '+kuL+' ('+pct(kuL,kuT)+'%)</div></div>'+
    '<div class="kpi cm"><div class="kpi-ico">ğŸ”ï¸</div><div class="kpi-lbl">Ø¨Ø§Ø¯ÙŠÙŠÙ†ÙŠ</div><div class="kpi-val">'+bT.toLocaleString()+'</div><div class="kpi-sub">Ø¶Ø§Ø¦Ø¹ '+bL+' ('+pct(bL,bT)+'%)</div></div>'+
    '<div class="kpi ct"><div class="kpi-ico">â˜€ï¸</div><div class="kpi-lbl">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</div><div class="kpi-val">'+f1T.toLocaleString()+'</div><div class="kpi-sub">'+pct(f1T,f1T+f2T+f3T)+'% Ù…Ù† Ø§Ù„ÙƒÙ„</div></div>'+
    '<div class="kpi cg"><div class="kpi-ico">ğŸŒ†</div><div class="kpi-lbl">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</div><div class="kpi-val">'+f2T.toLocaleString()+'</div><div class="kpi-sub">'+pct(f2T,f1T+f2T+f3T)+'% Ù…Ù† Ø§Ù„ÙƒÙ„</div></div>'+
    '<div class="kpi cr"><div class="kpi-ico">âŒ</div><div class="kpi-lbl">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø§Ø¦Ø¹</div><div class="kpi-val">'+totL.toLocaleString()+'</div><div class="kpi-sub">'+pct(totL,totC)+'% Ù†Ø³Ø¨Ø© Ø¶ÙŠØ§Ø¹</div></div>';
  document.getElementById('shiftChartLbl').textContent={all:'Ø§Ù„ÙƒÙ„',ar:'Ø¹Ø±Ø¨ÙŠ',ku:'Ø³ÙˆØ±Ø§Ù†ÙŠ',bad:'Ø¨Ø§Ø¯ÙŠÙŠÙ†ÙŠ'}[lang];
  const LL=LANGS.filter(l=>lang==='all'||l.key===lang),sn=['Ù1','Ù2','Ù3'],dashArr=[[],[4,3],[2,2]];
  const stackDs=[];LL.forEach(l=>l.fi.forEach((fi,si)=>stackDs.push({label:l.icon+' '+l.name+' '+sn[si],data:E.map(r=>r.v[fi]),backgroundColor:sc(l.color,.55-si*.08),borderColor:l.color,borderWidth:1,borderRadius:3})));
  mk('shiftStackedChart','bar',{labels:L,datasets:stackDs},{scales:scl(),plugins:Object.assign({},cfg0.plugins,{legend:lgd()})});
  const lostDs=[];LL.forEach(l=>l.li.forEach((li,si)=>lostDs.push({label:l.icon+' '+l.name+' Ø¶'+sn[si],data:E.map(r=>r.v[li]),backgroundColor:sc(l.color,.6-si*.12),borderColor:l.color,borderWidth:1,borderRadius:3})));
  mk('shiftLostBar','bar',{labels:L,datasets:lostDs},{scales:scl(),plugins:Object.assign({},cfg0.plugins,{legend:lgd()})});
  [0,1,2].forEach((si,idx)=>{const ds=LL.map(l=>({label:l.icon+' '+l.name,data:E.map(r=>r.v[l.fi[si]]),backgroundColor:sc(l.color,.65),borderColor:l.color,borderWidth:1,borderRadius:4}));mk('shift'+(idx+1)+'Chart','bar',{labels:L,datasets:ds},{scales:scl(),plugins:Object.assign({},cfg0.plugins,{legend:lgd()})});});
  const lineDs=[];LL.forEach(l=>l.li.forEach((li,si)=>lineDs.push({label:l.icon+' '+l.name+' '+sn[si],data:E.map(r=>r.v[li]),borderColor:l.color,fill:false,tension:.4,pointRadius:0,borderWidth:1.5,borderDash:dashArr[si]})));
  mk('lostLineChart','line',{labels:L,datasets:lineDs},{scales:scl(),plugins:Object.assign({},cfg0.plugins,{legend:lgd()})});
  document.getElementById('shiftTbody').innerHTML=E.map(r=>'<tr><td class="tdate">'+r.d+'</td>'+r.v.map((v,i)=>'<td>'+(i%2===0?v:'<span class="pill pr">'+v+'</span>')+'</td>').join('')+'</tr>').join('');
}

function filterLang(lang,btn){activeLang=lang;document.querySelectorAll('.stab').forEach(b=>b.className='stab');btn.classList.add({all:'sa',ar:'sar',ku:'sku',bad:'sbad'}[lang]);renderShifts(lang);}
function showPage(p,btn){document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));document.querySelectorAll('.ptab').forEach(x=>x.classList.remove('active'));document.getElementById('page-'+p).classList.add('active');btn.classList.add('active');activePage=p;renderCurrentPage();}
document.addEventListener('DOMContentLoaded',()=>{
  document.getElementById('userInput').addEventListener('keydown',e=>{if(e.key==='Enter')doLogin();});
  document.getElementById('passInput').addEventListener('keydown',e=>{if(e.key==='Enter')doLogin();});
});
function mkDt(y,m,d){return new Date(y,m-1,d);}
const LOCAL_CALLS=[
{d:'01/12',dt:mkDt(2025,12,1),tot:1291,ans:1080,ord:883,sec1:1004,sec2:76,lost:63,ag:13},
{d:'02/12',dt:mkDt(2025,12,2),tot:1408,ans:1099,ord:861,sec1:984,sec2:115,lost:97,ag:11},
{d:'03/12',dt:mkDt(2025,12,3),tot:1652,ans:1266,ord:951,sec1:1127,sec2:139,lost:113,ag:11},
{d:'04/12',dt:mkDt(2025,12,4),tot:2268,ans:1427,ord:1123,sec1:1205,sec2:222,lost:279,ag:13},
{d:'05/12',dt:mkDt(2025,12,5),tot:1337,ans:1119,ord:838,sec1:1029,sec2:90,lost:63,ag:12},
{d:'06/12',dt:mkDt(2025,12,6),tot:1118,ans:933,ord:754,sec1:863,sec2:70,lost:60,ag:12},
{d:'07/12',dt:mkDt(2025,12,7),tot:1149,ans:1005,ord:784,sec1:951,sec2:54,lost:50,ag:11},
{d:'08/12',dt:mkDt(2025,12,8),tot:1168,ans:1024,ord:791,sec1:966,sec2:58,lost:52,ag:11},
{d:'09/12',dt:mkDt(2025,12,9),tot:1607,ans:1210,ord:873,sec1:1062,sec2:148,lost:129,ag:11},
{d:'10/12',dt:mkDt(2025,12,10),tot:1278,ans:1022,ord:812,sec1:938,sec2:84,lost:92,ag:12},
{d:'11/12',dt:mkDt(2025,12,11),tot:1735,ans:1328,ord:979,sec1:1186,sec2:142,lost:126,ag:13},
{d:'12/12',dt:mkDt(2025,12,12),tot:1380,ans:1109,ord:835,sec1:1034,sec2:75,lost:106,ag:11},
{d:'13/12',dt:mkDt(2025,12,13),tot:1056,ans:938,ord:721,sec1:887,sec2:51,lost:47,ag:12},
{d:'14/12',dt:mkDt(2025,12,14),tot:1081,ans:984,ord:748,sec1:931,sec2:53,lost:25,ag:13},
{d:'15/12',dt:mkDt(2025,12,15),tot:1124,ans:992,ord:746,sec1:928,sec2:64,lost:33,ag:13},
{d:'16/12',dt:mkDt(2025,12,16),tot:1162,ans:1040,ord:790,sec1:985,sec2:55,lost:44,ag:12},
{d:'17/12',dt:mkDt(2025,12,17),tot:1338,ans:1158,ord:823,sec1:1084,sec2:74,lost:64,ag:12},
{d:'18/12',dt:mkDt(2025,12,18),tot:1573,ans:1317,ord:951,sec1:1222,sec2:95,lost:98,ag:12},
{d:'19/12',dt:mkDt(2025,12,19),tot:1256,ans:1116,ord:774,sec1:1052,sec2:64,lost:49,ag:12},
{d:'20/12',dt:mkDt(2025,12,20),tot:1124,ans:1032,ord:765,sec1:992,sec2:40,lost:34,ag:13},
{d:'21/12',dt:mkDt(2025,12,21),tot:1221,ans:1072,ord:735,sec1:1005,sec2:67,lost:39,ag:11},
{d:'22/12',dt:mkDt(2025,12,22),tot:1297,ans:1168,ord:785,sec1:1117,sec2:51,lost:48,ag:13},
{d:'23/12',dt:mkDt(2025,12,23),tot:1285,ans:1154,ord:809,sec1:1094,sec2:60,lost:48,ag:13},
{d:'24/12',dt:mkDt(2025,12,24),tot:1413,ans:1206,ord:792,sec1:1125,sec2:81,lost:63,ag:12},
{d:'25/12',dt:mkDt(2025,12,25),tot:1164,ans:1130,ord:805,sec1:1107,sec2:23,lost:10,ag:13},
{d:'26/12',dt:mkDt(2025,12,26),tot:1079,ans:1057,ord:768,sec1:1045,sec2:12,lost:10,ag:10},
{d:'27/12',dt:mkDt(2025,12,27),tot:910,ans:882,ord:698,sec1:860,sec2:22,lost:6,ag:12},
{d:'28/12',dt:mkDt(2025,12,28),tot:1099,ans:1070,ord:745,sec1:1056,sec2:14,lost:11,ag:11},
{d:'29/12',dt:mkDt(2025,12,29),tot:1241,ans:1205,ord:834,sec1:1181,sec2:24,lost:23,ag:11},
{d:'30/12',dt:mkDt(2025,12,30),tot:1327,ans:1298,ord:917,sec1:1279,sec2:19,lost:9,ag:11},
{d:'31/12',dt:mkDt(2025,12,31),tot:1983,ans:1910,ord:1278,sec1:1883,sec2:27,lost:44,ag:13},
{d:'01/01',dt:mkDt(2026,1,1),tot:1500,ans:1457,ord:1010,sec1:1432,sec2:25,lost:18,ag:12},
{d:'02/01',dt:mkDt(2026,1,2),tot:1427,ans:1405,ord:946,sec1:1393,sec2:12,lost:9,ag:12},
{d:'03/01',dt:mkDt(2026,1,3),tot:1236,ans:1197,ord:791,sec1:1175,sec2:22,lost:15,ag:12},
{d:'04/01',dt:mkDt(2026,1,4),tot:1175,ans:1149,ord:792,sec1:1132,sec2:17,lost:9,ag:12},
{d:'05/01',dt:mkDt(2026,1,5),tot:1320,ans:1281,ord:879,sec1:1257,sec2:24,lost:15,ag:11},
{d:'06/01',dt:mkDt(2026,1,6),tot:1076,ans:1053,ord:762,sec1:1045,sec2:8,lost:14,ag:11},
{d:'07/01',dt:mkDt(2026,1,7),tot:1125,ans:1100,ord:788,sec1:1085,sec2:15,lost:9,ag:11},
{d:'08/01',dt:mkDt(2026,1,8),tot:1347,ans:1302,ord:929,sec1:1276,sec2:26,lost:17,ag:12},
{d:'09/01',dt:mkDt(2026,1,9),tot:1383,ans:1315,ord:848,sec1:1272,sec2:43,lost:22,ag:11},
{d:'10/01',dt:mkDt(2026,1,10),tot:1033,ans:1009,ord:699,sec1:991,sec2:18,lost:5,ag:13},
{d:'11/01',dt:mkDt(2026,1,11),tot:1131,ans:1102,ord:796,sec1:1085,sec2:17,lost:11,ag:13},
{d:'12/01',dt:mkDt(2026,1,12),tot:1089,ans:1046,ord:750,sec1:1027,sec2:19,lost:21,ag:13},
{d:'13/01',dt:mkDt(2026,1,13),tot:1083,ans:1052,ord:777,sec1:1037,sec2:15,lost:15,ag:13},
{d:'14/01',dt:mkDt(2026,1,14),tot:929,ans:863,ord:539,sec1:832,sec2:31,lost:23,ag:13},
{d:'15/01',dt:mkDt(2026,1,15),tot:1420,ans:1347,ord:879,sec1:1313,sec2:34,lost:23,ag:13},
{d:'16/01',dt:mkDt(2026,1,16),tot:1195,ans:1171,ord:799,sec1:1153,sec2:18,lost:6,ag:13},
{d:'17/01',dt:mkDt(2026,1,17),tot:1059,ans:1038,ord:716,sec1:1026,sec2:12,lost:9,ag:13},
{d:'18/01',dt:mkDt(2026,1,18),tot:1057,ans:1033,ord:710,sec1:1021,sec2:12,lost:12,ag:13},
{d:'19/01',dt:mkDt(2026,1,19),tot:1037,ans:1014,ord:729,sec1:1002,sec2:12,lost:10,ag:13},
{d:'20/01',dt:mkDt(2026,1,20),tot:1025,ans:996,ord:711,sec1:977,sec2:19,lost:10,ag:13},
{d:'21/01',dt:mkDt(2026,1,21),tot:1011,ans:986,ord:711,sec1:968,sec2:18,lost:6,ag:12},
{d:'22/01',dt:mkDt(2026,1,22),tot:1212,ans:1179,ord:864,sec1:1159,sec2:20,lost:12,ag:13},
{d:'23/01',dt:mkDt(2026,1,23),tot:1117,ans:1080,ord:747,sec1:1060,sec2:20,lost:15,ag:13},
{d:'24/01',dt:mkDt(2026,1,24),tot:1003,ans:963,ord:677,sec1:943,sec2:20,lost:19,ag:12},
{d:'25/01',dt:mkDt(2026,1,25),tot:909,ans:885,ord:654,sec1:869,sec2:16,lost:7,ag:13},
{d:'26/01',dt:mkDt(2026,1,26),tot:946,ans:910,ord:677,sec1:896,sec2:14,lost:17,ag:12},
{d:'27/01',dt:mkDt(2026,1,27),tot:964,ans:938,ord:676,sec1:922,sec2:16,lost:9,ag:12},
{d:'28/01',dt:mkDt(2026,1,28),tot:957,ans:924,ord:653,sec1:904,sec2:20,lost:12,ag:11},
{d:'29/01',dt:mkDt(2026,1,29),tot:1221,ans:1193,ord:966,sec1:1176,sec2:17,lost:10,ag:13},
{d:'30/01',dt:mkDt(2026,1,30),tot:926,ans:906,ord:635,sec1:892,sec2:14,lost:5,ag:13},
{d:'31/01',dt:mkDt(2026,1,31),tot:1164,ans:1108,ord:776,sec1:1073,sec2:35,lost:18,ag:13},
{d:'01/02',dt:mkDt(2026,2,1),tot:1159,ans:1121,ord:907,sec1:1095,sec2:26,lost:12,ag:13},
{d:'02/02',dt:mkDt(2026,2,2),tot:1184,ans:1152,ord:880,sec1:1130,sec2:22,lost:11,ag:12},
{d:'03/02',dt:mkDt(2026,2,3),tot:1357,ans:1324,ord:935,sec1:1302,sec2:22,lost:13,ag:14},
{d:'04/02',dt:mkDt(2026,2,4),tot:1240,ans:1191,ord:911,sec1:1159,sec2:32,lost:16,ag:13},
{d:'05/02',dt:mkDt(2026,2,5),tot:1371,ans:1323,ord:1012,sec1:1294,sec2:29,lost:18,ag:13},
{d:'06/02',dt:mkDt(2026,2,6),tot:1324,ans:1288,ord:888,sec1:1268,sec2:20,lost:15,ag:13},
{d:'07/02',dt:mkDt(2026,2,7),tot:1221,ans:1177,ord:837,sec1:1154,sec2:23,lost:19,ag:12},
{d:'08/02',dt:mkDt(2026,2,8),tot:1156,ans:1122,ord:804,sec1:1102,sec2:20,lost:13,ag:12},
{d:'09/02',dt:mkDt(2026,2,9),tot:1175,ans:1142,ord:910,sec1:1126,sec2:16,lost:14,ag:12},
{d:'10/02',dt:mkDt(2026,2,10),tot:1176,ans:1155,ord:883,sec1:1144,sec2:11,lost:9,ag:12},
{d:'11/02',dt:mkDt(2026,2,11),tot:1081,ans:1045,ord:763,sec1:1027,sec2:18,lost:14,ag:8},
{d:'12/02',dt:mkDt(2026,2,12),tot:1343,ans:1287,ord:986,sec1:1254,sec2:33,lost:20,ag:11},
{d:'13/02',dt:mkDt(2026,2,13),tot:1032,ans:992,ord:749,sec1:978,sec2:14,lost:20,ag:10},
{d:'14/02',dt:mkDt(2026,2,14),tot:1130,ans:1098,ord:854,sec1:1080,sec2:18,lost:13,ag:11},
{d:'15/02',dt:mkDt(2026,2,15),tot:1095,ans:1072,ord:827,sec1:1061,sec2:11,lost:11,ag:13},
{d:'16/02',dt:mkDt(2026,2,16),tot:1134,ans:1105,ord:851,sec1:1083,sec2:22,lost:15,ag:13},
{d:'17/02',dt:mkDt(2026,2,17),tot:1386,ans:1331,ord:943,sec1:1299,sec2:32,lost:22,ag:12},
{d:'18/02',dt:mkDt(2026,2,18),tot:712,ans:689,ord:335,sec1:674,sec2:15,lost:6,ag:13},
{d:'19/02',dt:mkDt(2026,2,19),tot:544,ans:529,ord:154,sec1:520,sec2:9,lost:6,ag:10},
{d:'20/02',dt:mkDt(2026,2,20),tot:616,ans:600,ord:189,sec1:593,sec2:7,lost:9,ag:11}
];
const LOCAL_EXTRA=[
{d:'01/12',dt:mkDt(2025,12,1),v:[19,8,143,41,20,6,5,0,4,1,16,5,0,0,0,0,3,2]},
{d:'02/12',dt:mkDt(2025,12,2),v:[38,12,214,65,14,8,8,2,18,5,0,0,1,1,0,0,0,0]},
{d:'03/12',dt:mkDt(2025,12,3),v:[55,11,279,86,16,6,13,1,12,4,6,2,1,1,2,1,2,1]},
{d:'04/12',dt:mkDt(2025,12,4),v:[337,122,428,126,76,31,25,9,20,4,16,8,3,1,0,0,13,4]},
{d:'05/12',dt:mkDt(2025,12,5),v:[21,6,148,48,3,1,2,2,24,2,2,0,1,1,10,2,4,2]},
{d:'06/12',dt:mkDt(2025,12,6),v:[36,13,107,32,10,6,14,3,8,1,6,5,1,1,1,1,0,0]},
{d:'07/12',dt:mkDt(2025,12,7),v:[25,7,84,33,5,1,11,5,6,2,6,2,3,1,1,1,1,1]},
{d:'08/12',dt:mkDt(2025,12,8),v:[19,7,88,31,20,10,4,0,10,4,0,0,0,0,1,0,2,1]},
{d:'09/12',dt:mkDt(2025,12,9),v:[92,32,251,80,29,10,1,1,18,10,3,1,0,0,1,0,1,0]},
{d:'10/12',dt:mkDt(2025,12,10),v:[12,5,122,75,12,9,2,2,9,1,0,0,0,0,2,1,3,1]},
{d:'11/12',dt:mkDt(2025,12,11),v:[46,17,279,78,60,21,4,3,6,2,7,3,0,0,0,0,2,1]},
{d:'12/12',dt:mkDt(2025,12,12),v:[27,11,95,33,18,11,9,2,19,5,4,2,0,0,2,1,4,3]},
{d:'13/12',dt:mkDt(2025,12,13),v:[15,9,75,29,7,3,3,1,4,2,8,3,0,0,0,0,2,1]},
{d:'14/12',dt:mkDt(2025,12,14),v:[15,2,64,19,2,0,1,0,12,2,1,1,0,0,0,0,0,0]},
{d:'15/12',dt:mkDt(2025,12,15),v:[30,10,85,19,2,1,5,1,1,0,0,0,2,1,7,2,0,0]},
{d:'16/12',dt:mkDt(2025,12,16),v:[41,11,47,20,9,5,5,1,12,3,5,3,0,0,1,0,1,1]},
{d:'17/12',dt:mkDt(2025,12,17),v:[27,11,96,35,29,9,6,2,17,9,3,2,0,0,2,2,0,0]},
{d:'18/12',dt:mkDt(2025,12,18),v:[32,17,142,53,28,13,2,0,30,5,2,1,8,6,12,6,0,0]},
{d:'19/12',dt:mkDt(2025,12,19),v:[10,3,73,27,17,6,2,0,22,9,10,3,0,0,2,0,0,0]},
{d:'20/12',dt:mkDt(2025,12,20),v:[15,9,44,18,5,1,2,1,7,2,4,0,5,2,10,1,0,0]},
{d:'21/12',dt:mkDt(2025,12,21),v:[16,6,70,15,13,2,2,1,1,1,0,0,7,2,17,3,3,3]},
{d:'22/12',dt:mkDt(2025,12,22),v:[62,22,46,18,10,6,1,0,1,0,1,0,4,2,3,0,0,0]},
{d:'23/12',dt:mkDt(2025,12,23),v:[22,9,88,30,8,6,5,1,5,2,2,0,1,0,0,0,0,0]},
{d:'24/12',dt:mkDt(2025,12,24),v:[62,18,103,32,1,1,28,10,11,3,0,0,2,0,0,0,0,0]},
{d:'25/12',dt:mkDt(2025,12,25),v:[11,4,15,4,5,1,0,0,2,1,0,0,0,0,1,0,0,0]},
{d:'26/12',dt:mkDt(2025,12,26),v:[3,1,15,7,4,2,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'27/12',dt:mkDt(2025,12,27),v:[11,2,12,3,4,3,0,0,1,0,0,0,0,0,0,0,0,0]},
{d:'28/12',dt:mkDt(2025,12,28),v:[13,6,6,0,2,1,0,0,0,0,6,2,0,0,2,2,0,0]},
{d:'29/12',dt:mkDt(2025,12,29),v:[7,1,18,4,7,3,1,0,1,0,0,0,0,0,1,1,1,1]},
{d:'30/12',dt:mkDt(2025,12,30),v:[7,3,14,1,4,2,0,0,3,1,1,1,0,0,0,0,0,0]},
{d:'31/12',dt:mkDt(2025,12,31),v:[16,7,41,27,10,6,1,1,4,2,0,0,1,1,0,0,0,0]},
{d:'01/01',dt:mkDt(2026,1,1),v:[7,3,19,8,11,6,1,0,4,1,1,0,0,0,0,0,0,0]},
{d:'02/01',dt:mkDt(2026,1,2),v:[6,1,11,5,3,3,0,0,1,0,0,0,0,0,1,0,0,0]},
{d:'03/01',dt:mkDt(2026,1,3),v:[8,1,22,11,6,1,0,0,1,0,0,0,0,0,0,0,2,2]},
{d:'04/01',dt:mkDt(2026,1,4),v:[10,4,14,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'05/01',dt:mkDt(2026,1,5),v:[12,5,19,8,6,2,1,0,1,0,0,0,0,0,0,0,0,0]},
{d:'06/01',dt:mkDt(2026,1,6),v:[5,1,12,8,5,3,0,0,2,2,0,0,0,0,0,0,0,0]},
{d:'07/01',dt:mkDt(2026,1,7),v:[7,1,15,7,1,0,0,0,2,1,0,0,0,0,0,0,0,0]},
{d:'08/01',dt:mkDt(2026,1,8),v:[17,8,22,7,4,1,0,0,3,1,0,0,0,0,0,0,0,0]},
{d:'09/01',dt:mkDt(2026,1,9),v:[25,7,29,10,7,3,1,0,4,2,0,0,0,0,1,0,0,0]},
{d:'10/01',dt:mkDt(2026,1,10),v:[4,0,12,3,2,0,0,0,3,0,3,2,0,0,0,0,0,0]},
{d:'11/01',dt:mkDt(2026,1,11),v:[2,0,19,9,5,1,0,0,3,1,0,0,0,0,0,0,0,0]},
{d:'12/01',dt:mkDt(2026,1,12),v:[11,5,29,13,3,3,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'13/01',dt:mkDt(2026,1,13),v:[9,5,15,8,4,2,0,0,1,0,1,0,0,0,1,0,0,0]},
{d:'14/01',dt:mkDt(2026,1,14),v:[5,1,39,13,17,8,0,0,5,1,0,0,0,0,0,0,0,0]},
{d:'15/01',dt:mkDt(2026,1,15),v:[29,7,29,9,9,3,0,0,6,4,0,0,0,0,0,0,0,0]},
{d:'16/01',dt:mkDt(2026,1,16),v:[5,4,14,0,4,2,0,0,1,0,0,0,0,0,0,0,0,0]},
{d:'17/01',dt:mkDt(2026,1,17),v:[2,0,12,5,4,2,0,0,2,0,1,1,0,0,0,0,0,0]},
{d:'18/01',dt:mkDt(2026,1,18),v:[7,3,13,8,1,0,0,0,2,1,0,0,0,0,0,0,0,0]},
{d:'19/01',dt:mkDt(2026,1,19),v:[9,4,10,4,2,1,0,0,1,1,0,0,0,0,1,0,0,0]},
{d:'20/01',dt:mkDt(2026,1,20),v:[5,1,17,5,5,3,0,0,2,1,0,0,0,0,0,0,0,0]},
{d:'21/01',dt:mkDt(2026,1,21),v:[6,1,19,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'22/01',dt:mkDt(2026,1,22),v:[7,0,18,8,4,3,0,0,1,0,0,0,0,0,2,1,0,0]},
{d:'23/01',dt:mkDt(2026,1,23),v:[9,2,20,9,6,3,0,0,1,0,0,0,0,0,1,1,0,0]},
{d:'24/01',dt:mkDt(2026,1,24),v:[10,3,24,11,6,5,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'25/01',dt:mkDt(2026,1,25),v:[8,3,14,3,1,1,0,0,1,0,0,0,0,0,0,0,0,0]},
{d:'26/01',dt:mkDt(2026,1,26),v:[5,3,21,20,1,1,0,0,6,1,1,1,0,0,2,0,0,0]},
{d:'27/01',dt:mkDt(2026,1,27),v:[9,2,16,6,1,1,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'28/01',dt:mkDt(2026,1,28),v:[5,3,14,5,7,4,0,0,1,1,0,0,0,0,0,0,0,0]},
{d:'29/01',dt:mkDt(2026,1,29),v:[7,2,17,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'30/01',dt:mkDt(2026,1,30),v:[5,2,11,3,4,0,0,0,1,0,0,0,0,0,0,0,0,0]},
{d:'31/01',dt:mkDt(2026,1,31),v:[19,5,32,11,3,2,1,0,1,0,0,0,0,0,0,0,0,0]},
{d:'01/02',dt:mkDt(2026,2,1),v:[10,3,23,8,5,1,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'02/02',dt:mkDt(2026,2,2),v:[8,4,19,6,7,2,1,0,1,1,0,0,0,0,0,0,0,0]},
{d:'03/02',dt:mkDt(2026,2,3),v:[8,4,16,2,7,3,0,0,2,2,0,0,0,0,0,0,0,0]},
{d:'04/02',dt:mkDt(2026,2,4),v:[11,4,29,10,7,2,0,0,1,0,1,0,0,0,0,0,0,0]},
{d:'05/02',dt:mkDt(2026,2,5),v:[6,2,31,10,8,5,2,0,1,1,0,0,0,0,0,0,0,0]},
{d:'06/02',dt:mkDt(2026,2,6),v:[3,0,22,9,9,5,1,0,0,0,1,1,0,0,0,0,0,0]},
{d:'07/02',dt:mkDt(2026,2,7),v:[5,1,33,17,4,1,0,0,1,0,0,0,0,0,1,0,0,0]},
{d:'08/02',dt:mkDt(2026,2,8),v:[8,4,18,7,5,1,1,1,2,0,0,0,0,0,0,0,0,0]},
{d:'09/02',dt:mkDt(2026,2,9),v:[8,4,15,5,10,5,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'10/02',dt:mkDt(2026,2,10),v:[0,0,15,6,2,1,0,0,4,2,0,0,0,0,0,0,0,0]},
{d:'11/02',dt:mkDt(2026,2,11),v:[9,3,20,7,6,4,0,0,0,0,0,0,0,0,1,0,0,0]},
{d:'12/02',dt:mkDt(2026,2,12),v:[4,1,31,11,18,8,2,0,0,0,0,0,1,0,0,0,0,0]},
{d:'13/02',dt:mkDt(2026,2,13),v:[4,1,33,18,2,1,0,0,1,0,0,0,0,0,0,0,0,0]},
{d:'14/02',dt:mkDt(2026,2,14),v:[8,3,19,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'15/02',dt:mkDt(2026,2,15),v:[9,3,8,6,2,1,0,0,0,0,0,0,1,1,0,0,0,0]},
{d:'16/02',dt:mkDt(2026,2,16),v:[13,3,18,7,8,8,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'17/02',dt:mkDt(2026,2,17),v:[19,4,33,16,3,1,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'18/02',dt:mkDt(2026,2,18),v:[12,2,5,2,6,2,0,0,0,0,0,0,2,0,2,1,0,0]},
{d:'19/02',dt:mkDt(2026,2,19),v:[2,2,10,2,3,2,0,0,0,0,0,0,0,0,0,0,0,0]},
{d:'20/02',dt:mkDt(2026,2,20),v:[4,3,7,3,5,3,0,0,0,0,0,0,0,0,0,0,0,0]}
];

</script>
</body>
</html>